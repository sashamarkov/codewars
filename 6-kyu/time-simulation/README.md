<h2><a href=https://www.codewars.com/kata/5858326b994864753d0000d1/train/javascript target="_blank">Time Simulation</a></h2><h3>6 kyu</h3><p>When developing a game, it's often useful to be able to control time. We could slow it down when a character dies, or speed it up to make things look flashy, or stop time altogether when the player pauses the game.</p><p>Let's write an object we can use to simulate time and mess with it as we wish!</p><h2 id="new-simtime">new SimTime()</h2><p>Creates a new SimTime instance. Nothing special here. Once an instance has been created, we can use its methods to play with time, and get the current "simulated" time.</p><pre><code class="language-javascript"><span class="cm-keyword">let</span> <span class="cm-def">sim</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">SimTime</span>();</code></pre><pre style="display: none;"><code class="language-python"><span class="cm-variable">sim</span> <span class="cm-operator">=</span> <span class="cm-variable">SimTime</span>()</code></pre><pre style="display: none;"><code class="language-ruby"><span class="cm-variable">sim</span> <span class="cm-operator">=</span> <span class="cm-tag">SimTime</span><span class="cm-operator">.</span><span class="cm-property">new</span></code></pre><h2 id="instanceget">instance.get()</h2><p>Returns the current time withing the simulation. This value will start at 0.</p><pre><code class="language-javascript"><span class="cm-variable">sim</span>.<span class="cm-property">get</span>() <span class="cm-operator">===</span> <span class="cm-number">0</span></code></pre><pre style="display: none;"><code class="language-python"><span class="cm-variable">sim</span>.<span class="cm-property">get</span>() <span class="cm-operator">==</span> <span class="cm-number">0</span></code></pre><pre style="display: none;"><code class="language-ruby"><span class="cm-variable">sim</span><span class="cm-operator">.</span><span class="cm-property">get</span> <span class="cm-operator">==</span> <span class="cm-number">0</span></code></pre><h2 id="instanceset_speednew_speed">instance.set_speed(new_speed)</h2><p>At the current realtime and simtime, the simulation speed is set to <code>new_speed</code>.</p><p>From the current realtime until the speed is changed again, simulated time should reflect this new speed.</p><p>Note: speed can go negative and may lead simulated time "into the past".</p><pre><code class="language-javascript"><span class="cm-variable">sim</span>.<span class="cm-property">set_speed</span>(<span class="cm-number">2</span>);  <span class="cm-comment">// now each change in real time will be doubled for simulate time</span><span class="cm-variable">sim</span>.<span class="cm-property">set_speed</span>(<span class="cm-number">1</span>);  <span class="cm-comment">// now changes in simulated time will be the same as in real time</span></code></pre><pre style="display: none;"><code class="language-python"><span class="cm-variable">sim</span>.<span class="cm-property">set_speed</span>(<span class="cm-number">2</span>)  <span class="cm-comment"># now each change in real time will be doubled for simulate time</span><span class="cm-variable">sim</span>.<span class="cm-property">set_speed</span>(<span class="cm-number">1</span>)  <span class="cm-comment"># now changes in simulated time will be the same as in real time</span></code></pre><pre style="display: none;"><code class="language-ruby"><span class="cm-variable">sim</span><span class="cm-operator">.</span><span class="cm-property">set_speed</span>(<span class="cm-number">2</span>)  <span class="cm-comment"># now each change in real time will be doubled for simulate time</span><span class="cm-variable">sim</span><span class="cm-operator">.</span><span class="cm-property">set_speed</span>(<span class="cm-number">1</span>)  <span class="cm-comment"># now changes in simulated time will be the same as in real time</span></code></pre><h2 id="instanceupdatecurrent_realtime">instance.update(current_realtime)</h2><p>Used to tell the simulation what the current time is outside, in the real world. This will be used to calculate the change in realtime, and therefore the change in simulated time.</p><p>Real time only moves in one direction. So if <code>current_realtime</code> doesn't make sense (moves backwards), throw an error.</p><pre><code class="language-javascript"><span class="cm-comment">// assuming current speed is 1</span><span class="cm-variable">sim</span>.<span class="cm-property">update</span>(<span class="cm-number">10</span>);<span class="cm-variable">sim</span>.<span class="cm-property">get</span>() <span class="cm-operator">===</span> <span class="cm-number">10</span>;</code></pre><pre style="display: none;"><code class="language-python"><span class="cm-comment"># assuming current speed is 1</span><span class="cm-variable">sim</span>.<span class="cm-property">update</span>(<span class="cm-number">10</span>)<span class="cm-variable">sim</span>.<span class="cm-property">get</span>() <span class="cm-operator">==</span> <span class="cm-number">10</span></code></pre><pre style="display: none;"><code class="language-ruby"><span class="cm-comment"># assuming current speed is 1</span><span class="cm-variable">sim</span><span class="cm-operator">.</span><span class="cm-property">update</span>(<span class="cm-number">10</span>)<span class="cm-variable">sim</span><span class="cm-operator">.</span><span class="cm-property">get</span> <span class="cm-operator">==</span> <span class="cm-number">10</span></code></pre><hr><h2 id="example">Example:</h2><pre><code class="language-javascript"><span class="cm-comment">// sim time = 0, real time = 0, sim speed = 1</span><span class="cm-variable">sim</span>.<span class="cm-property">update</span>(<span class="cm-number">12</span>);<span class="cm-variable">sim</span>.<span class="cm-property">get</span>() <span class="cm-operator">===</span> <span class="cm-number">12</span>;<span class="cm-variable">sim</span>.<span class="cm-property">set_speed</span>(<span class="cm-number">3</span>);<span class="cm-comment">// from now onwards, change in sim time</span><span class="cm-comment">// will be multiplied by the speed of 3</span><span class="cm-variable">sim</span>.<span class="cm-property">update</span>(<span class="cm-number">15</span>);<span class="cm-comment">// realtime changed by 3</span><span class="cm-comment">// simtime should change by 3 * 3 = 9</span><span class="cm-comment">// 12 + (3 * 3) = 21</span><span class="cm-variable">sim</span>.<span class="cm-property">get</span>() <span class="cm-operator">===</span> <span class="cm-number">21</span>;<span class="cm-variable">sim</span>.<span class="cm-property">update</span>(<span class="cm-number">17</span>);    <span class="cm-comment">// adding 2 * 3 instead of 2 again</span><span class="cm-variable">sim</span>.<span class="cm-property">get</span>() <span class="cm-operator">===</span> <span class="cm-number">27</span>;<span class="cm-variable">sim</span>.<span class="cm-property">set_speed</span>(<span class="cm-number">1</span>);<span class="cm-comment">// from now on change in sim time</span><span class="cm-comment">// will be multiplied by the speed of 1</span><span class="cm-variable">sim</span>.<span class="cm-property">update</span>(<span class="cm-number">18</span>);    <span class="cm-comment">// adding 1 to sim time</span><span class="cm-variable">sim</span>.<span class="cm-property">get</span>() <span class="cm-operator">===</span> <span class="cm-number">28</span>;</code></pre><pre style="display: none;"><code class="language-python"><span class="cm-comment"># sim time = 0, real time = 0, sim speed = 1</span><span class="cm-variable">sim</span>.<span class="cm-property">update</span>(<span class="cm-number">12</span>)<span class="cm-variable">sim</span>.<span class="cm-property">get</span>() <span class="cm-operator">==</span> <span class="cm-number">12</span><span class="cm-variable">sim</span>.<span class="cm-property">set_speed</span>(<span class="cm-number">3</span>)<span class="cm-comment"># from now onwards, change in realtime</span><span class="cm-comment"># will be multiplied by the speed of 3</span><span class="cm-variable">sim</span>.<span class="cm-property">update</span>(<span class="cm-number">15</span>)<span class="cm-comment"># realtime changed by 3</span><span class="cm-comment"># simtime should change by 3 * 3 = 9</span><span class="cm-comment"># 12 + (3 * 3) = 21</span><span class="cm-variable">sim</span>.<span class="cm-property">get</span>() <span class="cm-operator">==</span> <span class="cm-number">21</span><span class="cm-variable">sim</span>.<span class="cm-property">update</span>(<span class="cm-number">17</span>)    <span class="cm-comment"># adding 2 * 3 instead of 2 again</span><span class="cm-variable">sim</span>.<span class="cm-property">get</span>() <span class="cm-operator">==</span> <span class="cm-number">27</span><span class="cm-variable">sim</span>.<span class="cm-property">set_speed</span>(<span class="cm-number">1</span>)<span class="cm-comment"># from now on change in sim time</span><span class="cm-comment"># will be multiplied by the speed of 1</span><span class="cm-variable">sim</span>.<span class="cm-property">update</span>(<span class="cm-number">18</span>)    <span class="cm-comment"># adding 1 to sim time</span><span class="cm-variable">sim</span>.<span class="cm-property">get</span>() <span class="cm-operator">==</span> <span class="cm-number">28</span></code></pre><pre style="display: none;"><code class="language-ruby"><span class="cm-comment"># sim time = 0, real time = 0, sim speed = 1</span><span class="cm-variable">sim</span><span class="cm-operator">.</span><span class="cm-property">update</span>(<span class="cm-number">12</span>)<span class="cm-variable">sim</span><span class="cm-operator">.</span><span class="cm-property">get</span> <span class="cm-operator">==</span> <span class="cm-number">12</span><span class="cm-variable">sim</span><span class="cm-operator">.</span><span class="cm-property">set_speed</span>(<span class="cm-number">3</span>)<span class="cm-comment"># from now onwards, change in realtime</span><span class="cm-comment"># will be multiplied by the speed of 3</span><span class="cm-variable">sim</span><span class="cm-operator">.</span><span class="cm-property">update</span>(<span class="cm-number">15</span>)<span class="cm-comment"># realtime changed by 3</span><span class="cm-comment"># simtime should change by 3 * 3 = 9</span><span class="cm-comment"># 12 + (3 * 3) = 21</span><span class="cm-variable">sim</span><span class="cm-operator">.</span><span class="cm-property">get</span> <span class="cm-operator">==</span> <span class="cm-number">21</span><span class="cm-variable">sim</span><span class="cm-operator">.</span><span class="cm-property">update</span>(<span class="cm-number">17</span>)    <span class="cm-comment"># adding 2 * 3 instead of 2 again</span><span class="cm-variable">sim</span><span class="cm-operator">.</span><span class="cm-property">get</span> <span class="cm-operator">==</span> <span class="cm-number">27</span><span class="cm-variable">sim</span><span class="cm-operator">.</span><span class="cm-property">set_speed</span>(<span class="cm-number">1</span>)<span class="cm-comment"># from now on change in sim time</span><span class="cm-comment"># will be multiplied by the speed of 1</span><span class="cm-variable">sim</span><span class="cm-operator">.</span><span class="cm-property">update</span>(<span class="cm-number">18</span>)    <span class="cm-comment"># adding 1 to sim time</span><span class="cm-variable">sim</span><span class="cm-operator">.</span><span class="cm-property">get</span> <span class="cm-operator">==</span> <span class="cm-number">28</span></code></pre>